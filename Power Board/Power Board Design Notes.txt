Power Board Design Notes:

Function:
-receive input power from fuel cell (30V-48V)
-receive input power from lead-acid battery (10V-15V)
-if both power sources are connected, draw power from battery
-output 12V (unregulated, but stable) up to 4A
-output 5V (regulated) up to 2A

State Transitions:
-battery connected, FC off
-battery connected, FC on
-battery disconnected, FC on
-(possible next state) battery connected, FC on
-no other state progression possible (i.e. fc cannot start without battery connected)

Error cases:
-battery input terminals shorted to ground (battery not connected)
	-response: no current discharge
	-schottky diode in series with battery input
-battery input DC overvoltage
	-response: no action
	-TVS diode, resistor, power BJT
	-PTC fuse in series with battery input
-battery input undervoltage
	-response: disconnect battery input
	-voltage supervisor sends enable signalto p-channel mosfet
-fc input undervoltage
	-response: disconnect fc input
	-buck converter self lock-out
-fc input overvoltage
	-response: no action
	-TVS diode, resistor, power BJT
	-PTC fuse in series with fc input
-12V output short
	-response: limit current
	-PCB fuse
5V output short
	-response: limit current
	-PCB fuse


Bill of materials:
guidelines:
	capacitors:
		X7R or X5R dielectric, 1210 package or 0805 package
	resistors:
		0805 package or 1008 package
	diodes:
		preferably DO-214AC package
	signal BJTs:
		SOT23 package (check BCE order)
	signal MOSFETs:
		SOT23 package
	power mosfets:
		TO220 package

circuit protection:
	16V TVS diode - Littelfuse SMAJ16CA (Digikey SMAJ16CALFCT-ND)
	60V TVS diode - Littelfuse SMBJ60CA (Digikey SMBJ60CALFCT-ND)
	fuseholder: Littelfuse 01530007Z 
	3A fuse: Littelfuse 0297003.WXNV 
	5A fuse: Littelfuse 0297005.WXNV 
	voltage supervisor
		reference filter capacitor: 0.1uF, 16V, X7R, 1210 package

48V-12V buck converter:
	Bootstrap capacitor: 0.1uF, 16V, X7R, 0805 package, Samsung CL21B104KOANNNC (Digikey 1276-2448-1-ND)
	SS capacitor: 470nF, 16V, X7R, 0805 package Samsung CL21B474KOFNNNE, (Digikey 1276-1199-1-ND)
	Output capacitors: 3X 22uF, 25V, X5R, 0805 package, Samsung CL21A226MAQNNNE, (Digikey 1276-2908-1-ND)
	Input capacitors: 4X 2.2uF, 100V, X7R, 1210 package, Samsung CL32B225KCJSNNE, (Digikey 1276-3362-1-ND)
	Compensation zero capacitor: 10.5nF, 
	Compensation zero capacitor: 68pF, 

	Enable resistors: 147kOhm, 6.04kOhm, 1% tolerance, 0805 package
	Clock resistor: 243kOhm, 1% tolerance, 0805 package
	Feedback resistors: 40.2kOhm, 1.27kOhm, 1.62kOhm, 1% tolerance, 0805 package

	48V catch diode: 5A, 60V schottky, STM STPS5L60S, (Digikey 497-8487-1-ND)
	
	Output inductor: 20uH, 9.3A sat current, Eaton Bussmann CTX20-5-52-R (Digikey 283-3914-ND)
	INSTEAD USE?: Eaton Bussmann DR127-220-R (NO, USE ABOVE INDUCTOR)
	
	tracking network:
		op-amp: LM741
		Inverting regulator: LTC3261HMSE#PBF, 12-TSSOP package
			flying capacitor: 0.1uF, 16V, X7R, 0805 package, Samsung CL21B104KOANNNC (Digikey 1276-2448-1-ND)
		resistors 
		diode
		mosfets
12V-5V buck converter:
	Bootstrap capacitor: 0.1uF, 16V, X7R, 0805 package, Samsung CL21B104KOANNNC (Digikey 1276-2448-1-ND)
	SS capacitor: 470nF, 16V, X7R, 0805 package, Samsung CL21B474KOFNNNE, (Digikey 1276-1199-1-ND)
	Output capacitors: 2X 47uF, 10V, X5R, 0805 package, TDK C2012X5R1A476M125AC (Digikey 445-8239-1-ND)
	Input capacitors: 2X 22uF, 16V, X5R, 0805 package, TDK C2012X5R1C226K125AC (Digikey 445-6797-1-ND)
	

	12V catch diode: 4.0A 0.4V schottky diode, DO-214AA SMB package, Vishay SSB43L-E3/52T (Digikey SSB43L-E3/52TGICT-ND)

	Output Inductor, 15uH, 9.6A sat current, Eaton Bussman DR127-150-R, (Digikey 513-1040-1-ND)

Power Diodes
	2X 12V schottky diode: 4.0A 0.4V schottky diode, DO-214AA SMB package, Vishay SSB43L-E3/52T (Digikey SSB43L-E3/52TGICT-ND)
	

Power MOSFETs (TO220 package)
	power N-channel MOSFET - Fairchild FQP30N06L
	power P-channel MOSFET - Fairchild FQP27P06

Signal MOSFETs (SOT23 package)
	n-channel: 30V, 6A, 2.5V Vth, Toshiba SSM3K335R,LF(T (Digikey SSM3K335RLF(TCT-ND)
	p-channel: 30V, 4A, 2.0V Vth, Toshiba SSM3J334R,LF (Digikey SSM3J334RLFCT-ND)

Output capacitors:
	2X 330uF, 25V, 41mOhm, through-hole 3.5mm leads, aluminum, Panasonic EEU-FM1E331L (Digikey P12387-ND)
	2X 3.3uF, 25V, X5R, 0805 package, TDK C2012X5R1E335K125AB (Digikey 445-14394-1-ND)

